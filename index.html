<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  font-weight: 600;
  background: radial-gradient(circle at top, #DFF0C8, #BCD9A2);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  overflow: hidden;
}

/* HEART FALL */
.heart {
  position: fixed;
  top: -10px;
  font-size: 20px;
  animation: fall linear forwards;
  pointer-events: none;
}
@keyframes fall {
  to { transform: translateY(110vh); opacity: 0; }
}

/* PAGE */
.page {
  display: none;
  animation: fadeIn 0.6s ease;
}
.active { display: block; }

@keyframes fadeIn {
  from {opacity:0; transform: scale(0.9);}
  to {opacity:1; transform: scale(1);}
}

/* BOX */
.box {
  background: linear-gradient(#FFE4EA, #FFD0DB);
  border: 3px solid #FFA3B8;
  padding: 24px;
  border-radius: 25px;
  text-align: center;
  box-shadow: 0 15px 25px rgba(0,0,0,0.2);
  width: 90vw;
  max-width: 380px;
}

/* BUTTON */
button {
  margin-top: 15px;
  padding: 14px 22px;
  border-radius: 25px;
  border: none;
  background: linear-gradient(#ffffff, #ffeef2);
  color: #FF7FA1;
  font-size: 15px;
  cursor: pointer;
  box-shadow: inset 0 2px 0 #fff, 0 6px 12px rgba(0,0,0,0.2);
  transition: transform .15s;
}
button:active { transform: scale(0.95); }

/* MEMORY */
.grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  margin-top: 15px;
}
.card {
  width: 100%;
  aspect-ratio: 1/1;
  perspective: 600px;
}
.card-inner {
  width: 100%;
  height: 100%;
  background: white;
  border-radius: 15px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 22px;
  transform-style: preserve-3d;
  transition: transform .5s;
}
.card.flipped .card-inner { transform: rotateY(180deg); }

.front, .back {
  position: absolute;
  backface-visibility: hidden;
}
.back { transform: rotateY(180deg); }

/* PAGE 3 BUTTON */
.reason-btn {
  width: 100%;
}

/* IMAGE */
img {
  width: 100%;
  border-radius: 15px;
  margin-bottom: 15px;
}

/* TYPE TEXT */
#typeText {
  margin-top: 10px;
  font-size: 14px;
}
</style>
</head>
<body>

<audio id="clickSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_47b8e8e0b4.mp3"></audio>

<!-- PAGE 1 -->
<div id="page1" class="page active">
  <div class="box">
    <p>hi, kavian!</p>
    <p>i made this for you!</p>
    <p>play this game to unlock your surprise!</p>
    <button onclick="goToPage(2)">start game</button>
  </div>
</div>

<!-- PAGE 2 -->
<div id="page2" class="page">
  <div class="box">
    <p>tap two cards to find the matching pairs!</p>
    <div class="grid" id="gameBoard"></div>
    <p id="winText" style="display:none;">yeay you found all the pairs!</p>
    <button id="nextBtn2" style="display:none;" onclick="goToPage(3)">next page</button>
  </div>
</div>

<!-- PAGE 3 -->
<div id="page3" class="page">
  <div class="box">
    <p>Reasons Why I Love You</p>
    <p>Tap each heart to reveal one reason</p>

    <button class="reason-btn" onclick="reveal(this,'you always make me laugh')">â˜† your humor</button>
    <button class="reason-btn" onclick="reveal(this,'the way you love to all your friends, especially me')">â˜† your heart</button>
    <button class="reason-btn" onclick="reveal(this,'ganteng dan sexy')">â˜† your looks</button>

    <button id="nextBtn3" style="display:none;" onclick="goToPage(4)">NEXT PAGE</button>
  </div>
</div>

<!-- PAGE 4 -->
<div id="page4" class="page">
  <div class="box">
    <img src="foto1.jpg">
    <p id="typeText"></p>
  </div>
</div>

<script>
const clickSound = document.getElementById("clickSound");

function goToPage(n){
  clickSound.play();
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById("page"+n).classList.add('active');
  if(n===4) startTyping();
}

/* HEART */
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.innerText="ðŸ’—";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=(3+Math.random()*2)+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),5000);
},500);

/* MEMORY */
const symbols=["â¤ï¸","â¤ï¸","ðŸŒ¸","ðŸŒ¸","ðŸ’Œ","ðŸ’Œ","ðŸ“","ðŸ“","ðŸŒ·","ðŸŒ·","ðŸŽ€","ðŸŽ€"];
symbols.sort(()=>0.5-Math.random());
let first=null,lock=false,match=0;
const board=document.getElementById("gameBoard");

symbols.forEach(sym=>{
  const card=document.createElement("div");
  card.className="card";
  card.innerHTML=`<div class="card-inner"><div class="front">?</div><div class="back">${sym}</div></div>`;
  card.onclick=()=>flip(card);
  board.appendChild(card);
});

function flip(card){
  if(lock||card.classList.contains("flipped")) return;
  clickSound.play();
  card.classList.add("flipped");
  if(!first){ first=card; }
  else{
    lock=true;
    let a=first.querySelector(".back").innerText;
    let b=card.querySelector(".back").innerText;
    if(a===b){
      match++; first=null; lock=false;
      if(match===6){
        winText.style.display="block";
        nextBtn2.style.display="block";
      }
    } else{
      setTimeout(()=>{
        card.classList.remove("flipped");
        first.classList.remove("flipped");
        first=null; lock=false;
      },800);
    }
  }
}

/* PAGE 3 */
let revealed=0;
function reveal(btn,text){
  clickSound.play();
  if(btn.dataset.done) return;
  btn.innerText="â¤ "+text;
  btn.dataset.done=true;
  revealed++;
  if(revealed===3) nextBtn3.style.display="block";
}

/* TYPE EFFECT */
const message=`Valentineâ€™s Day is all about love, so letâ€™s keep spreading it everywhere! 
This is Arey speaking and I just want to appreciate you, because youâ€™re the kind of person who brings smiles and warmth to everyone around you. 
Thank you for being here! I hope this message makes you feel how much people around you love you and miss you. 
However, Happy Valentine's, Kavian! ðŸ‘‹`;

let i=0;
function startTyping(){
  const el=document.getElementById("typeText");
  el.innerText="";
  i=0;
  const timer=setInterval(()=>{
    el.innerText+=message.charAt(i);
    i++;
    if(i>=message.length) clearInterval(timer);
  },40);
}
</script>

</body>
</html>
